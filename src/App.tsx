import React, { useEffect, useState } from "react";
import "./App.css";
import PacMan from "./component/PacMan";

function level(): any {
  const field = [
    [
      4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
      4, 4, 4,
    ],
    [
      4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 2, 4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 4,
      4, 2, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 1, 1, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1,
      1, 1, 4,
    ],
    [
      4, 4, 4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 0, 4, 4, 0, 4, 4, 4, 4, 4, 1, 4, 4, 4,
      4, 4, 4,
    ],
    [
      8, 8, 8, 8, 8, 4, 1, 4, 4, 4, 4, 4, 0, 4, 4, 0, 4, 4, 4, 4, 4, 1, 4, 8, 8,
      8, 8, 8,
    ],
    [
      8, 8, 8, 8, 8, 4, 1, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 1, 4, 8, 8,
      8, 8, 8,
    ],
    [
      8, 8, 8, 8, 8, 4, 1, 4, 4, 0, 4, 4, 4, 5, 5, 4, 4, 4, 0, 4, 4, 1, 4, 8, 8,
      8, 8, 8,
    ],
    [
      4, 4, 4, 4, 4, 4, 1, 4, 4, 0, 4, 5, 5, 5, 5, 5, 5, 4, 0, 4, 4, 1, 4, 4, 4,
      4, 4, 4,
    ],
    [
      0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 4, 5, 5, 5, 5, 5, 5, 4, 0, 0, 0, 1, 0, 0, 0,
      0, 0, 0,
    ],
    [
      4, 4, 4, 4, 4, 4, 1, 4, 4, 0, 4, 5, 5, 5, 5, 5, 5, 4, 0, 4, 4, 1, 4, 4, 4,
      4, 4, 4,
    ],
    [
      8, 8, 8, 8, 8, 4, 1, 4, 4, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 4, 4, 1, 4, 8, 8,
      8, 8, 8,
    ],
    [
      8, 8, 8, 8, 8, 4, 1, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 1, 4, 8, 8,
      8, 8, 8,
    ],
    [
      8, 8, 8, 8, 8, 4, 1, 4, 4, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 4, 4, 1, 4, 8, 8,
      8, 8, 8,
    ],
    [
      4, 4, 4, 4, 4, 4, 1, 4, 4, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 4, 4, 1, 4, 4, 4,
      4, 4, 4,
    ],
    [
      4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 1, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 2, 1, 1, 4, 4, 1, 1, 1, 1, 1, 1, 1, 7, 0, 1, 1, 1, 1, 1, 1, 1, 4, 4, 1,
      1, 2, 4,
    ],
    [
      4, 4, 4, 1, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 1,
      4, 4, 4,
    ],
    [
      4, 4, 4, 1, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 1,
      4, 4, 4,
    ],
    [
      4, 1, 1, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1, 4, 4, 1, 1, 1, 1,
      1, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 4, 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4,
      4, 1, 4,
    ],
    [
      4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
      1, 1, 4,
    ],
    [
      4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
      4, 4, 4,
    ],
  ];

  return {
    field,
  };
}

function App() {
  const [score, setScore] = useState(0)
  const { field } = level();

  return (
    <div className="game-container">
      <header>
        <h1>PAC-MAN</h1>
        <div className="info">
          <div>
            <p>1 UP</p>
          </div>
          <div>
            <p>SCORE: <span>{score}</span></p>
          </div>
        </div>
      </header>
      <div className="game">
        {field.map((col: number[], colIndex: number) => (
          <div key={colIndex} className="col">
            {col.map((cell: number, colIndex: number) => {
              if (cell === 1) {
                return (
                  <div className={`cell`}>
                    <div key={colIndex} className={`cell-${cell}`}></div>
                  </div>)
              }
              if (cell === 2) {
                return (
                  <div className={`cell`}>
                    <div key={colIndex} className={`cell-${cell}`}></div>
                  </div>)
              }
              if (cell === 7) {
                return (
                  <div className={`cell`}>
                    <PacMan field={field} startPosition={{ row: 25, col: 15 }} />
                  </div>)
              }
              return <div key={colIndex} className={`cell cell-${cell}`} />
            })}
          </div>
        ))}
      </div>
    </div>
  );
}

export default App;
